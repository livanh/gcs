#!/bin/bash

which lxterminal >/dev/null || return

: ${lxterminal_bg_color:=${terminal_bg_color}}
: ${lxterminal_fg_color:=${terminal_fg_color}}

LXTERMINAL_ENABLE_DEFAULT="true"
LXTERMINAL_CONFIG_FILE_DEFAULT="$HOME/config/lxterminal/lxterminal.conf"

LXTERMINAL_ENABLE="$(crudini      --get ${CONFIG_FILE} lxterminal enable      2>/dev/null || echo "${LXTERMINAL_ENABLE_DEFAULT}")"
LXTERMINAL_CONFIG_FILE="$(crudini --get ${CONFIG_FILE} lxterminal config_file 2>/dev/null || echo "${LXTERMINAL_CONFIG_FILE_DEFAULT}")"

if ! [ "${LXTERMINAL_ENABLE}" == "true" ]; then
    printf "* Not setting colors for LXTerminal (disabled from configuration).\n"

elif ! [ -f "${LXTERMINAL_CONFIG_FILE}" ]; then
    printf "* Not setting colors for LXTerminal (configuration file \"${LXTERMINAL_CONFIG_FILE}\" not found).\n"

else
    printf "* Setting colors for LXTerminal..."
    set_value "bgcolor" "=" "${lxterminal_bg_color}" "${LXTERMINAL_CONFIG_FILE}"
    set_value "fgcolor" "=" "${lxterminal_fg_color}" "${LXTERMINAL_CONFIG_FILE}"
    printf " done.\n"
fi
