#!/bin/sh

# TODO: define common colors (in theme files) for syntax highlighting of keywords, operators, etc.
# TODO: template needs to be cleaned a bit
# TODO: set colors for Geany terminal emulator

GEANY_CONFIG_FILE="$HOME/.config/geany/geany.conf"
if [ -f "${GEANY_CONFIG_FILE}" ]; then
    echo "* setting colors for Geany..."
    
    if [ -f "${MODULES_DIR}/geany-template.conf" ]; then
	destfile="$HOME/.config/geany/colorschemes/gcs.conf"
	cp "${MODULES_DIR}/geany-template.conf" "${destfile}"
	sed -i "s/\$base_color/$base_color/" "${destfile}"
	sed -i "s/\$fg_color/$fg_color/" "${destfile}"
	sed -i "s/\$selected_bg_color/$selected_bg_color/" "${destfile}"
	sed -i "s/\$selected_fg_color/$selected_fg_color/" "${destfile}"
	sed -i "s/\$text_color/$text_color/" "${destfile}"
	sed -i "s/\$bg_color/$bg_color/" "${destfile}"
	sed -i "s/\$tooltip_fg_color/$tooltip_fg_color/" "${destfile}"
	sed -i "s/\$tooltip_bg_color/$tooltip_bg_color/" "${destfile}"
	sed -i "s/color_scheme=.*/color_scheme=gcs.conf/" "${GEANY_CONFIG_FILE}"
	echo "  Done." 
    else
	echo "  Error: template not found!"
    fi
    
fi
